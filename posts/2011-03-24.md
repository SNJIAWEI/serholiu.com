# 主题功能大改进完工

- slug: glossyblue-theme-improved
- tags: 前端, WordPress
- published: 2011-03-24 13:00

----------

寒假在家时看了一下CSS和JavaScript，不过最后感觉仅凭不太熟悉的这两样，很难自己设计制作一个主题，于是决定对现有的这个主题进行功能上的完善和补充一些小细节。这款主题可能很多人都见到过，我从使用WordPress建立这个博客以来一直用的是这个主题-[GlossyBlue][1]，总体上这个主题界面非常美观，颜色搭配也很合适，所以一直舍不得换上其他的，不过这也是一个古老的主题，从WP 2.2开始就一直到现在，所以很多WP新的功能这个主题无法满足，应此开始折腾之旅。

![主题功能大改进完工](//dn-serho.qbox.me/blog/2011032401.jpg)

现在这个主题功能上算是比较完善了，但被我修改的让整体风格有点失调，不过我不是配色大师，这个也就只能这样忍了。先说最大的两个改变：1.支持菜单功能，也就是上面的那个导航菜单；2.评论支持原生嵌套和Ajax提交。支持菜单很简单，比照自带主题很快就搞出来了，然后找了另外一款主题，改了一下风格，也就是现在大家看到的这个样了。评论支持原生嵌套也比较简单，在折腾Ajax提交评论时却总是出现“服务器故障”之类的问题，不过在其他主机测试居然成功，再删除原来的站点重新搭建博客后居然又可以用了，至今没搞明白是什么原因。

下面就是改进WordPress评论的一些方法，参考资料来自网上，不能保证永不过期。如果你的主题比较陈旧，不支持原生嵌套评论，而你又舍不得换新的，那么可以使用[《在WordPress2.7以上版本中实现嵌套评论》][2]这个方法，在提交评论的时候，可以考虑使用Ajax的方法，增强用户体验，原生嵌套评论的AJAX实现办法来自[willin][3]，不过这个地址打不开了，可以参考[《原生嵌套评论的AJAX实现办法》][4]，推荐留言样式函数使用默认的，这样成功机会较大，既然是评论，还有邮件通知，照样可以使用willin的[邮件通知][5]，这个是不用插件的。

在使用Ajax提交评论时调用了jQuery库，于是想不用白不用，那就多来一点jQuery的应用，于是就折腾出了点击评论框出现隐藏的表情和隐藏老用户评论资料框，侧边栏的jQuery Tab，Twitter信息滚动之类的效果，重新制作了留言板和友情链接页面，这些方法网上很多，也就不一一列出来了，浪费时间，我也参考了这篇[主题折腾文章][6]，很多效果就是里面来的，想要的可以去看看。

因为很多功能用代码来实现了，所以插件数量急剧下降，现在已经到了个位数，不过仍在努力，图片浏览插件换为了Easy FancyBox，一直在试着将它集成到主题中去，分页没有使用代码，感觉样式做不漂亮，所以使用了Paginator这个分页插件，设置非常简单，而且感觉非常酷。关于主题代码化，去除不必要的插件，可以看看来自ZWW的[《用代码武装你的博客系列》][7]。

好吧，最后感觉最难折腾的还是CSS，那么多浏览器，最后也懒的去兼容了。当然，抄袭了很多主题，所以为什么现在这个主题有点不伦不类了，哈哈。由于这个主题使用了大量的图片调用了大量的js文件，再加上杯具的主机，现在的速度非常蛋疼。现在开始只是修改一些小Bug，不会再花时间在博客主题上了，这个主题也将会一直用下去。习惯了，倒不想换了。一些功能有改进的地方，以后文窘的时候说说。


[1]: http://www.ndesign-studio.com/wp-themes/glossyblue
[2]: http://kamiyeye.com/archives/315/
[3]: http://kan.willin.org/
[4]: http://zww.me/archives/24365
[5]: http://www.imtnt.net/wordpress-plugin-code-zero-reply-to-a-message-notification/
[6]: http://zhaoweitian.com/zsnos-final.html
[7]: http://zww.me/archives/24671
